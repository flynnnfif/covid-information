#coding=utf-8
import re
import requests
from bs4 import BeautifulSoup
string='{"code":200,"msg":"success","newslist":[{"news":[{"id":188605,"pubDate":1649811680000,"pubDateStr":"7小时前","title":"国家卫健委|昨日新增本土确诊病例1500例","summary":"4月12日0—24时，31个省（自治区、直辖市）和新疆生产建设兵团报告新增确诊病例1513例。其中境外输入病例13例（广西5例，广东4例，上海1例，江苏1例，福建1例，四川1例），含6例由无症状感染者转为确诊病例（广西3例，福建1例，广东1例，四川1例）；本土病例1500例（上海1189例，吉林233例，广东22例，海南14例，浙江12例，福建7例，江苏4例，山东3例，河南3例，黑龙江2例，湖南2","infoSource":"央视新闻app","sourceUrl":"https:\/\/content-static.cctvnews.cctv.com\/snow-book\/index.html?item_id=13168169203272396650&toc_style_id=feeds_default"},{"id":188580,"pubDate":1649807286000,"pubDateStr":"8小时前","title":"上海|昨日新增本土新冠肺炎确诊病例1189例","summary":"上海市卫健委今早（13日）通报：2022年4月12日0—24时，新增本土新冠肺炎确诊病例1189例和无症状感染者25141例，其中23例确诊病例为此前无症状感染者转归，867例确诊病例和24500例无症状感染者在隔离管控中发现，其余在相关风险人群排查中发现。新增境外输入性新冠肺炎确诊病例1例，在闭环管控中发现。\n2022年4月12日0—24时，新增本土新冠肺炎确诊病例1189例，含23例由无症状感","infoSource":"央视新闻app","sourceUrl":"https:\/\/content-static.cctvnews.cctv.com\/snow-book\/index.html?item_id=14830451928838934808&toc_style_id=feeds_default"},{"id":188608,"pubDate":1649812094000,"pubDateStr":"7小时前","title":"吉林|昨日新增本土确诊病例233例","summary":"4月12日0—24时，吉林全省新增本地确诊病例233例（轻型226例、普通型6例、重症1例），其中长春市173例（含96例无症状感染者转为确诊病例）、吉林市55例、白城市5例（含1例无症状感染者转为确诊病例）；新增本地无症状感染者852例，其中长春市801例、吉林市43例、白城市6例、辽源市1例、梅河口市1例。以上感染者均已转运至定点医疗机构隔离治疗，对以上人员的密切接触者、次密切接触者均已开展追","infoSource":"央视新闻app","sourceUrl":"https:\/\/content-static.cctvnews.cctv.com\/snow-book\/index.html?item_id=14594877010609539231&toc_style_id=feeds_default"},{"id":188595,"pubDate":1649810661000,"pubDateStr":"7小时前","title":"广东|昨日新增本土确诊病例22例","summary":"4月12日0—24时，广东全省新增本土确诊病例22例（其中9例为无症状感染者转确诊），广州报告20例，深圳报告2例；新增本土无症状感染者9例，广州报告2例，深圳报告3例，佛山报告3例，东莞报告1例。广东全省新增出院24例（境外输入13例），目前在院168例（境外输入39例）；新增解除医学观察无症状感染者62例（境外输入51例），尚在医学观察无症状感染者513例（境外输入319例）。\n广东全省新增境","infoSource":"央视新闻app","sourceUrl":"https:\/\/content-static.cctvnews.cctv.com\/snow-book\/index.html?item_id=16116019010332854352&toc_style_id=feeds_default"},{"id":188597,"pubDate":1649810950000,"pubDateStr":"7小时前","title":"浙江|昨日新增本土确诊病例12例","summary":"4月12日0—24时，浙江11个市报告新增确诊病例12例。其中无境外输入病例；本土病例12例（杭州市3例，宁波市2例，湖州市1例，嘉兴市5例，金华市1例），含6例由无症状感染者转为确诊病例（杭州市2例，嘉兴市4例）。\n当日新增治愈出院病例8例，解除医学观察的密切接触者1751人。\n11个市报告新增无症状感染者21例。其中境外输入2例（英国输入1例，巴西输入1例）；本土19例（杭州市6例，宁波市1例","infoSource":"央视新闻app","sourceUrl":"https:\/\/content-static.cctvnews.cctv.com\/snow-book\/index.html?item_id=10110984343316393794&toc_style_id=feeds_default"}],"desc":{"id":1,"createTime":1579537899000,"modifyTime":1649840163000,"currentConfirmedCount":275055,"confirmedCount":505815,"suspectedCount":17915,"curedCount":216382,"deadCount":14378,"seriousCount":258374,"suspectedIncr":13,"currentConfirmedIncr":-917,"confirmedIncr":2250,"curedIncr":3108,"deadIncr":59,"seriousIncr":18050,"yesterdayConfirmedCountIncr":2250,"yesterdaySuspectedCountIncr":13,"foreignStatistics":{"currentConfirmedCount":188523493,"confirmedCount":499847860,"suspectedCount":4,"curedCount":305140283,"deadCount":6184084,"suspectedIncr":0,"currentConfirmedIncr":769275,"confirmedIncr":900070,"curedIncr":127683,"deadIncr":3112},"globalStatistics":{"currentConfirmedCount":188798548,"confirmedCount":500353675,"curedCount":305356665,"deadCount":6198462,"currentConfirmedIncr":768358,"confirmedIncr":902320,"curedIncr":130791,"deadIncr":3171,"yesterdayConfirmedCountIncr":902320},"highDangerCount":16,"midDangerCount":222},"riskarea":{"mid":["吉林省吉林市昌邑区两家子乡李屯村","吉林省吉林市丰满区龙城帝景小区103栋","吉林省吉林市昌邑区桦皮厂镇桦东村","吉林省吉林市昌邑区桦皮厂镇张相村","吉林省吉林市龙潭区山前街道万兴家和小区1号楼2单元","吉林省吉林市船营区致和街道森邻里小区23号楼4单元","吉林省吉林市船营区北极街道望云山景小区","吉林省吉林市昌邑区桦皮厂镇苏登河村四组","吉林省吉林市昌邑区桦皮厂镇漂洋村十二组","吉林省吉林市昌邑区桦皮厂镇永胜村十二组","吉林省吉林市昌邑区两家子乡两家子村二组","吉林省吉林市昌邑区哈达湾经济开发区神华万利城16栋3单元","吉林省吉林市昌邑区站前街道桃花源小区1号楼1单元","吉林省吉林市昌邑区民主街道运河里小区15号楼3单元","吉林省吉林市昌邑区莲花街道卢瓦尔小镇D38号楼","河北省廊坊市安次区东沽港镇桃园村","河北省廊坊市安次区东沽港镇淘河村","辽宁省沈阳市大东区惠民家园","辽宁省沈阳市大东区中体奥林匹克花园新城","辽宁省沈阳市大东区钢花小区","辽宁省营口市鲅鱼圈区新港小区","辽宁省营口市鲅鱼圈区恒祥湾·富贵园","辽宁省营口市鲅鱼圈区金座A区","辽宁省营口市鲅鱼圈区群星国际新城","辽宁省营口市鲅鱼圈区金禾一品财富广场","吉林省长春市经开区兴隆山镇中海寰宇天下","吉林省长春市长春新区超越街道修正药业宿舍","吉林省吉林市昌邑区桦皮厂镇东风村","吉林省吉林市昌邑区桦皮厂镇乐园村","吉林省吉林市昌邑区桦皮厂镇乔屯村","吉林省吉林市昌邑区桦皮厂镇庆祥村","吉林省吉林市昌邑区桦皮厂镇鳌龙河村","上海市上海市黄浦区打浦桥街道顺昌路612弄20号","江西省南昌市新建区石岗镇田北村谌家老居","江西省南昌市新建区石岗镇界坛村","江西省南昌市新建区石岗镇长征路15号","吉林省吉林市昌邑区东局子街道嘉业花园小区1号楼5单元","吉林省吉林市昌邑区民主街道兴国胡同27号岔路乡公寓","福建省泉州市丰泽区丰泽街道霞淮社区","福建省泉州市丰泽区东海街道云山社区","福建省泉州市丰泽区东海街道法石社区","福建省泉州市丰泽区城东街道埭头社区","吉林省吉林市船营区北山街道乐园一区12号楼","吉林省吉林市船营区北山街道乐园一区17号楼","吉林省吉林市船营区青岛街道庆丰小区12号楼5单元","福建省泉州市丰泽区城东街道美仙山二期20栋","福建省泉州市丰泽区毓才花苑二期6栋、13栋","吉林省长春市南关区南岭街道御翠豪庭","吉林省长春市南关区富裕街道金色世界湾","吉林省长春市南关区明珠街道卫星商城","吉林省长春市南关区明珠街道中铁十三局宿舍","吉林省长春市南关区明珠街道长春大学公寓","吉林省长春市南关区明珠街道长春大学","吉林省长春市南关区鸿城街道卫星花园","吉林省长春市朝阳区南湖街道长春大学卫星路以南八公寓","吉林省长春市二道区八里堡街道力旺康城","吉林省长春市二道区远达街道昊泽家园","吉林省长春市绿园区同心街道","吉林省长春市九台区主城区","吉林省长春市九台区其塔木镇北山村","吉林省长春市九台区沐石河街道八家子村","吉林省长春市九台区沐石河街道卢家村","吉林省长春市九台区沐石河街道孤家子村","吉林省长春市九台区沐石河街道杨树村","吉林省长春市九台区沐石河街道张家村","吉林省长春市九台区苇子沟街道大苇村","吉林省长春市榆树市于家镇红旗村孙成岗屯","吉林省长春市榆树市华昌街道图书馆家属楼","吉林省长春市榆树市城郊街道和泰府","吉林省长春市榆树市大岭镇怀家蓝旗村","吉林省长春市榆树市环城乡东岭村小河屯","吉林省长春市榆树市闵家镇西北地村","吉林省长春市净月区德容街道福临花园","吉林省长春市净月区德正街道保利香槟","吉林省长春市汽车经济技术开发区锦城街道47街区","吉林省长春市汽车经济技术开发区锦城街道中铁国际花园","吉林省长春市汽车经济技术开发区锦城街道恒大首府","吉林省长春市经开区会展街道北海丽景","吉林省长春市经开区兴隆山镇吴中北国之春","吉林省长春市经开区兴隆山镇金色家园","吉林省长春市长春新区硅谷街道恒大雅苑","吉林省长春市长春新区北湖街道北湖花园","吉林省长春市长春新区超越街道万龙丽水湾二期","吉林省吉林市昌邑区兴华街道兴田上城7号楼A座","吉林省吉林市龙潭区承德街道江山如画小区3号楼3单元","吉林省吉林市经开区九站街道雾凇水岸小区","上海市上海市嘉定区马陆镇康年路261号工地宿舍","上海市上海市浦东新区日京路88号","上海市上海市崇明区长兴镇长明村21队","福建省泉州市晋江市池店镇东山村","福建省泉州市晋江市池店镇百信御江帝景一期","福建省泉州市晋江市陈埭镇庵上村","吉林省长春市南关区幸福乡国信一期","吉林省长春市南关区明珠街道万科金域长春","吉林省长春市南关区明珠街道力旺美林","吉林省长春市南关区明珠街道幸福乡政府宿舍楼","吉林省长春市南关区明珠街道新城小区","吉林省长春市南关区鸿城街道农研家属楼","吉林省长春市宽城区凯旋街道友谊花园小区","吉林省长春市朝阳区湖西街道开运街1629号楼","吉林省长春市绿园区普阳街道吉业花园","吉林省长春市绿园区普阳街道辽阳街（101栋、143栋、201栋）","吉林省长春市绿园区林园街道3535小区","吉林省长春市绿园区林园街道大禹华邦B区","吉林省长春市绿园区正阳街道娜奇美4区","吉林省长春市绿园区青年街道133厂小区","吉林省长春市九台区纪家街道纪家村","吉林省长春市经开区东方广场街道恒大帝景一期","吉林省长春市经开区兴隆山镇分水村","吉林省长春市长春新区北湖街道北湾新城四期","吉林省长春市长春新区飞跃街道新星宇之新观邸","吉林省长春市长春新区超越街道恒盛豪庭","吉林省吉林市丰满区前二道乡王相村5组","吉林省吉林市丰满区小白山乡大兰旗村4社","吉林省吉林市丰满区小白山乡鸡冠山村1社","吉林省吉林市丰满区泰山街道如一坊中央公园8号楼","吉林省吉林市丰满区江南街道恒东花园小区1号楼2单元","上海市上海市浦东新区北蔡镇联勤村冯桥南宅","福建省泉州市晋江市陈埭镇海尾村","福建省泉州市晋江市陈埭镇洋埭村","上海市上海市闵行区梅陇镇许泾村八组","上海市上海市嘉定区江桥镇增建村柴中村民组","上海市上海市浦东新区北蔡镇鹏飞路411弄6号","上海市上海市崇明区长兴镇新港村15队","福建省泉州市晋江市池店镇浯潭村","福建省泉州市晋江市陈埭镇涵口村五四路17号","河南省周口市太康县城关镇建设路以西、交通路以南、原小铁路以东、谢安路以北合围地区","河南省周口市太康县城关镇建设路北段、福兴社区、原纱厂家属院合围地区","河北省唐山市路北区君瑞联合农贸市场","上海市上海市闵行区华漕镇许浦村三队","上海市上海市闵行区梅陇镇行南村三队","上海市上海市浦东新区康桥镇苗桥路935弄19号","吉林省吉林市昌邑区孤店子镇孤店子村","吉林省吉林市昌邑区左家镇王家岭村","吉林省吉林市昌邑区桦皮厂镇平胜村","吉林省吉林市昌邑区莲花街道沈铁幸福里小区12号楼2单元","福建省泉州市晋江市池店镇新店村","福建省泉州市晋江市陈埭镇高坑村","上海市上海市浦东新区北蔡镇御北路235号","河南省漯河市临颍县台陈镇台陈村","安徽省淮南市凤台县刘集镇淝北村","安徽省淮南市凤台县李冲回族乡李冲村","安徽省淮南市凤台县李冲回族乡民族村","黑龙江省哈尔滨市南岗区哈达村","福建省泉州市丰泽区东海街道滨城社区","福建省泉州市丰泽区城东街道东星社区","福建省泉州市丰泽区泉秀街道灯星社区","福建省泉州市丰泽区丰泽街道东涂社区","福建省泉州市丰泽区丰泽街道源淮社区","福建省泉州市丰泽区城东街道通海社区","福建省泉州市丰泽区泉秀街道灯洲社区","黑龙江省佳木斯市汤原县清华C区12号楼","黑龙江省佳木斯市汤原县清华C区6号楼","黑龙江省佳木斯市汤原县阳光花园小区","安徽省阜阳市颍上县谢桥镇全域","四川省乐山市犍为县玉津镇罗城路众恒中央公园E区","四川省乐山市犍为县玉津镇麻柳路翠湖公园小区","江苏省徐州市鼓楼区中山北路336-6","江苏省徐州市鼓楼区山水路商业街A-1-24","江苏省徐州市鼓楼区华美东观园10号楼","江苏省徐州市鼓楼区荆南小区14号楼","江苏省徐州市鼓楼区荆南小区2号楼","黑龙江省佳木斯市汤原县学府新城10号楼","黑龙江省佳木斯市汤原县幸福家园3号楼","黑龙江省佳木斯市汤原县幸福家园4号楼","黑龙江省佳木斯市汤原县幸福家园8号楼","黑龙江省佳木斯市汤原县清华新城5号楼","黑龙江省佳木斯市汤原县清华新城12号楼","辽宁省大连市金普新区马桥子街道凯悦公寓B座","江西省抚州市南城县G35济广高速鹰瑞段南城服务区","四川省乐山市犍为县玉津镇滨江路东方花园小区","河北省廊坊市霸州市杨芬港镇褚西村","江苏省徐州市云龙区翠屏山街道玉兰苑C1号楼","江苏省徐州市鼓楼区环城街道朱庄小区25号楼","江苏省徐州市鼓楼区环城路坝子街60号弘辉大厦","江苏省徐州市贾汪区汴塘镇孟省村","江苏省徐州市贾汪区朱古村","江苏省徐州市泉山区余二菜馆（矿南小区24号楼西侧平房）","江苏省徐州市泉山区永安街道煤建路169小区7号楼","江苏省徐州市睢宁县景湖小区一期4号楼","江苏省徐州市睢宁县李岳小区18号楼","河北省邯郸市鸡泽县浮图店镇","湖南省长沙市天心区城南路街道席草田巷2、3、5、7、9、11、13、15、17、19、20号，天心街1—11号、12-74号（双号），白沙街8号二单元，席草田巷1号含（萝卜白菜）经营场所，熙台岭巷41—45号（单号）、52-98号（双号），南福巷6-8号，里仁坡1—7号、11—37号、45号，城南西路93号（德雅村）—109号（好牙医华盛店）以南，里仁坡2—10号以北","黑龙江省佳木斯市汤原县宝祥名苑小区3号楼","黑龙江省佳木斯市汤原县汤原镇西凤鸣村","黑龙江省佳木斯市汤原县理想家园小区","天津市天津市西青区张家窝镇香榭园26号楼1门","黑龙江省牡丹江市爱民区兴平社区","黑龙江省牡丹江市爱民区地明安居社区","黑龙江省牡丹江市爱民区建卫社区","黑龙江省牡丹江市爱民区明月社区","黑龙江省牡丹江市爱民区文化社区","福建省泉州市晋江市安海镇安平社区","广东省茂名市电白区坡心镇新河村委会羊甘昌村二组51号","广东省茂名市电白区水东街道西湖西路28号底商01至03号商铺","江苏省宿迁市宿城区双庄街道浙富世贸广场3号楼","山东省威海市文登区张淑静鞋料加工厂（文登区环山办城西西街1-3号）","黑龙江省牡丹江市爱民区庆达社区","黑龙江省牡丹江市爱民区通乡社区","安徽省六安市裕安区城南镇宝业小区8号楼","河南省商丘市永城市中原路以东、雨亭路以西、汉梁路以南、建设路以北区域","河南省商丘市永城市团结路以南、建设路以北、雪枫路以东、中原路以西区域（含澳林购物广场）","安徽省阜阳市颍州区颍州学村北区","广东省广州市白云区三元里大道1008号鸿盈汇大厦","黑龙江省牡丹江市爱民区庆旺社区","福建省泉州市晋江市陈埭镇江滨南路、鞋都路、九十九溪围合的三角区域","陕西省西安市西咸新区沣东新城建章路街道孟家村","陕西省西安市西咸新区沣东新城建章路街道祥云物流中心","黑龙江省牡丹江市爱民区中华社区","安徽省六安市金安区望城街道金望花园11栋","安徽省六安市裕安区城南镇南城小区23栋","安徽省六安市裕安区城南镇南河佳苑34栋","安徽省六安市裕安区小华山街道香格里拉小区15栋","安徽省六安市裕安区平桥乡王店村墩塘组","河南省漯河市郾城区海河路沙澧文景苑小区","广东省广州市白云区人和镇穗和东大街12号205-208迪鹿酒吧","广东省广州市白云区黄石街道黄石东路488号江夏灯饰建材城","福建省宁德市蕉城区七都镇浦源社区","福建省宁德市蕉城区七都镇黄厝村","福建省宁德市蕉城区金涵乡濂坑村","黑龙江省牡丹江市爱民区拥军社区"],"high":["吉林省吉林市昌邑区桦皮厂镇桦皮厂社区","河北省廊坊市安次区葛渔城镇全域","辽宁省营口市鲅鱼圈区北大荒物流股份有限公司","福建省泉州市丰泽区滨海酒店","吉林省吉林市经开区九站街道农校社区八委十组（九龙路以南、经开大街以东、翰林路以南）","福建省泉州市丰泽区城东街道浔美社区","吉林省吉林市昌邑区延江街道江山帝景小区","辽宁省沈阳市辽中区茨榆坨街道","河北省唐山市高新技术开发区盛华世家仓储购物市场","黑龙江省佳木斯市汤原县东湖城小区","吉林省长春市宽城区团山街道小南街社区","吉林省长春市绿园区青年路街道宇航社区","吉林省长春市九台区九郊街道新州社区","黑龙江省佳木斯市汤原县阳光河畔小区","河北省廊坊市霸州市胜芳镇欧韵城小区","北京市朝阳区酒仙桥街道二街坊"]}}]}'
#正则表达式
re_con = ("(?P<num_con>昨日新增本土确诊病例.*?例)")
re_num = ("(currentConfirmedCount.{2}[0-9]+).*?(confirmedCount.{2}[0-9]+).*?(suspectedCount.{2}[0-9]+).*?(curedCount.{2}[0-9]+).*?(deadCount.{2}[0-9]+).*?(seriousCount.{2}[0-9]+).*?(suspectedIncr.*?[0-9]+).*?(currentConfirmedIncr.*?[0-9]+).*?(confirmedIncr.*?[0-9]+).*?(curedIncr.*?[0-9]+).*?(deadIncr.*?[0-9]+).*?(seriousIncr.*?[0-9]+).*?(yesterdayConfirmedCountIncr.*?[0-9]+).*?(yesterdaySuspectedCountIncr.*?[0-9]+).*?(highDangerCount.*?[0-9]+).*?(midDangerCount.*?[0-9]+)")

class covid_info():
    def __init__(self,c,d):
        self.city=c
        self.date=d
        #self.url='http://api.tianapi.com/ncov/index?key=53d35b1cd0b2058b8506e165bba57f35'
        #self.bs = BeautifulSoup(requests.get(self.url).content,"lxml")
        #self.bs=self.bs.p.string
        #self.string=str(bs)
        if c==0:
            c='num_con'#needing update
        covid_contry=re.search(re_con,string)#self.string
        self.num = re.search(re_num,string)
        self.con=covid_contry[0]
        
        #self.con=self.con[0]
        #print(covid_contry)

if __name__=='__main__':
    covid_result=covid_info(0,0)
    #print(covid_result.con)
    for i in range(20):
        print(covid_result.num.group(i))